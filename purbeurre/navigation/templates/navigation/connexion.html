{% extends "navigation/index.html" %}
{% load static %}
{% load crispy_forms_tags %}

{% block css %}
  <!-- Personal theme-->
  <link href="{% static 'navigation/css/form.css' %}" rel="stylesheet">
{% endblock %}

{% block header %}

<div class="row h-100 justify-content-center" id="connexion-form">

  {% if error %}
  <div class="row justify-content-center connexion-failed-row">
      <p class="col-6 connexion-failed">La connexion a échoué</p>
  </div>
  
  {% endif %}

  <!--If the user is authenticated, we don't display the form-->
  {% if user.is_authenticated %}
  <div class="container h-100">
    <div class="row h-100 align-items-center justify-content-center text-center">
      <div class="col-lg-10">
        <h1 class="text-uppercase text-white font-weight-bold">Vous êtes déjà connecté(e)! :D</h1>
        <hr class="divider my-4">
      </div>
    </div>
  </div>
  {% else %}
    <!-- Connexion form -->
    <form class="col-6 h-25 justify-content-center align-self-center text-center" method="post">
        <h2 class="text-white-75 font-weight-light mb-5">Connexion</h2>

        {% csrf_token %}

        <!--Username/email field-->
        <div class="form-row justify-content-center">
            <div class="col-5">
              {{ form.username|as_crispy_field }}
            </div>
        </div>

        <!--Password field-->
        <div class="form-row justify-content-center">
            <div class="col-5">
              {{ form.password|as_crispy_field }}
            </div>
        </div>

        <input class="row btn btn-primary input-connexion col-3" type="submit" value="Connexion" />
    </form>
    {% endif %}
</div>

{% endblock %}

{% block content %}
{% endblock %}